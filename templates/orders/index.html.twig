{# templates/orders/index.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}{{ 'orders.title'|trans }}{% endblock %}

{% block body %}
<div class="container py-4">
  <h1 class="h4 mb-3">{{ 'orders.title'|trans }}</h1>

  {% if orders is empty %}
    <div class="alert alert-info">{{ 'orders.empty'|trans }}</div>
  {% else %}
    <div class="table-responsive">
      <table class="table align-middle">
        <thead>
          <tr>
            <th>{{ 'orders.id'|trans }}</th>
            <th>{{ 'orders.date'|trans }}</th>
            <th>{{ 'orders.status'|trans }}</th>
            <th>{{ 'orders.amount'|trans }}</th>
            <th>{{ 'orders.details'|trans }}</th>
          </tr>
        </thead>
        <tbody>
        {% for o in orders %}
          <tr>
            <td>{{ o.id }}</td>
            <td>{{ o.createdAt|date('d/m/Y H:i') }}</td>
            <td><span class="badge text-bg-secondary">{{ o.status }}</span></td>
            <td>{{ (o.totalCents / 100)|number_format(2, ',', ' ') }} â‚¬</td>
            <td>
              <a class="btn btn-sm btn-primary" href="{{ path('app_order_show', { id: o.id }) }}">
                {{ 'orders.details'|trans }}
              </a>
            </td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  {% endif %}
</div>
{% endblock %}
